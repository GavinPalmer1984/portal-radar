var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function d(){return h(" ")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function b(t){g=t}function w(){if(!g)throw new Error("Function called outside component initialization");return g}const x=[],_=[],y=[],k=[],$=Promise.resolve();let M=!1;function S(t){y.push(t)}let E=!1;const T=new Set;function D(){if(!E){E=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];b(e),C(e.$$)}for(x.length=0;_.length;)_.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];T.has(e)||(T.add(e),e())}y.length=0}while(x.length);for(;k.length;)k.pop()();M=!1,E=!1,T.clear()}}function C(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const Y=new Set;let W;function A(){W={r:0,c:[],p:W}}function F(){W.r||r(W.c),W=W.p}function z(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),W.c.push(()=>{Y.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function H(t,e){const n=e.token={};function r(t,r,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;void 0!==o&&(l=l.slice(),l[o]=a);const i=t&&(e.current=t)(l);let s=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(A(),j(t,1,1,()=>{e.blocks[n]=null}),F())}):e.block.d(1),i.c(),z(i,1),i.m(e.mount(),e.anchor),s=!0),e.block=i,e.blocks&&(e.blocks[r]=i),s&&D()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=w();if(t.then(t=>{b(n),r(e.then,1,e.value,t),b(null)},t=>{b(n),r(e.catch,2,e.error,t),b(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function N(t){t&&t.c()}function P(t,n,a){const{fragment:l,on_mount:i,on_destroy:s,after_update:u}=t.$$;l&&l.m(n,a),S(()=>{const n=i.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(S)}function L(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function O(t,e){-1===t.$$.dirty[0]&&(x.push(t),M||(M=!0,$.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,o,a,l,i,s,c=[-1]){const f=g;b(e);const h=o.props||{},d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:c};let m=!1;if(d.ctx=a?a(e,h,(t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),m&&O(e,t)),n}):[],d.update(),m=!0,r(d.before_update),d.fragment=!!l&&l(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();o.intro&&z(e.$$.fragment),P(e,o.target,o.anchor),D()}b(f)}class I{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}
/*! https://github.com/leeoniya/uPlot (v1.0.8) */let J=function(){function t(t,e,n,r){var a;n=n||0;for(var l=2147483647>=(r=r||e.length-1);r-n>1;)t>e[a=l?n+r>>1:o((n+r)/2)]?n=a:r=a;return t-e[n]>e[r]-t?r:n}function e(t,e,n,a){var l=e-t,i=c(l||r(e)||1),s=o(i),f=u(10,s)*n,h=0==l?f:0,d=b(function(t,e){return o(t/e)*e}(t-h,f)),m=b(v(e+h,f));return a&&(0==l?e>0?(d=0,m=2*e):0>e&&(m=0,d=2*t):(f>m-e&&(m+=f),f>t-d&&(d-=f),t>=0&&0>d&&(d=0),0>=e&&m>0&&(m=0))),[d,m]}var n=Math,r=n.abs,o=n.floor,a=n.round,l=n.ceil,i=n.min,s=n.max,u=n.pow,c=n.log10,f=n.PI;function h(t,e){return a(t/e)*e}function d(t,e,n){return i(s(t,e),n)}function m(t){return"function"==typeof t?t:function(){return t}}function p(t,e){return e}function v(t,e){return l(t/e)*e}function g(t){return a(1e3*t)/1e3}function b(t){return a(1e6*t)/1e6}var w=Array.isArray;function x(t){return"object"==typeof t&&null!==t}function _(t){var e;if(w(t))e=t.map(_);else if(x(t))for(var n in e={},t)e[n]=_(t[n]);else e=t;return e}function y(t){for(var e=arguments,n=1;e.length>n;n++){var r=e[n];for(var o in r)x(t[o])?y(t[o],_(r[o])):t[o]=_(r[o])}return t}var k="width",$="height",M="left",S=requestAnimationFrame,E=document,T=window,D=devicePixelRatio;function C(t,e){null!=e&&t.classList.add(e)}function Y(t,e,n){t.style[e]=n+"px"}function W(t,e,n,r){var o=E.createElement(t);return null!=e&&C(o,e),null!=n&&n.insertBefore(o,r),o}function A(t,e){return W("div",t,e)}function F(t,e,n){t.style.transform="translate("+e+"px,"+n+"px)"}var z={passive:!0};function j(t,e,n){e.addEventListener(t,n,z)}function H(t,e,n){e.removeEventListener(t,n,z)}var N=["January","February","March","April","May","June","July","August","September","October","November","December"],P=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function L(t){return t.slice(0,3)}var O=P.map(L),B=N.map(L),I={MMMM:N,MMM:B,WWWW:P,WWW:O};function J(t){return(10>t?"0":"")+t}var G={YYYY:function(t){return t.getFullYear()},YY:function(t){return(t.getFullYear()+"").slice(2)},MMMM:function(t,e){return e.MMMM[t.getMonth()]},MMM:function(t,e){return e.MMM[t.getMonth()]},MM:function(t){return J(t.getMonth()+1)},M:function(t){return t.getMonth()+1},DD:function(t){return J(t.getDate())},D:function(t){return t.getDate()},WWWW:function(t,e){return e.WWWW[t.getDay()]},WWW:function(t,e){return e.WWW[t.getDay()]},HH:function(t){return J(t.getHours())},H:function(t){return t.getHours()},h:function(t){var e=t.getHours();return 0==e?12:e>12?e-12:e},AA:function(t){return 12>t.getHours()?"AM":"PM"},aa:function(t){return 12>t.getHours()?"am":"pm"},a:function(t){return 12>t.getHours()?"a":"p"},mm:function(t){return J(t.getMinutes())},m:function(t){return t.getMinutes()},ss:function(t){return J(t.getSeconds())},s:function(t){return t.getSeconds()},fff:function(t){return function(t){return(10>t?"00":100>t?"0":"")+t}(t.getMilliseconds())}};function R(t,e){e=e||I;for(var n,r=[],o=/\{([a-z]+)\}|[^{]+/gi;n=o.exec(t);)r.push("{"==n[0][0]?G[n[1]]:n[0]);return function(t){for(var n="",o=0;r.length>o;o++)n+="string"==typeof r[o]?r[o]:r[o](t,e);return n}}function U(t,e,n){for(var o=[],a=t;e>a;a++)for(var l=0;n.length>l;l++){var i=n[l]*u(10,a);o.push(+i.toFixed(r(a)))}return o}var V=[1,2,5],q=U(-12,0,V),X=U(0,12,V),Z=q.concat(X),K=3600,Q=86400,tt=30*Q,et=365*Q,nt=[5e-4].concat(U(-3,0,V),[1,5,10,15,30,60,300,600,900,1800,K,7200,3*K,4*K,6*K,8*K,43200,Q,2*Q,3*Q,4*Q,5*Q,6*Q,7*Q,8*Q,9*Q,10*Q,15*Q,tt,2*tt,3*tt,4*tt,6*tt,et,2*et,5*et,10*et,25*et,50*et,100*et]);function rt(t,e){return t.map((function(t){return[t[0],e(t[1]),t[2],e(t[4]?t[1]+t[3]:t[3])]}))}var ot="{M}/{D}",at="\n"+ot,lt="{h}:{mm}{aa}",it=[[et,"{YYYY}",7,"",1],[28*Q,"{MMM}",7,"\n{YYYY}",1],[Q,ot,7,"\n{YYYY}",1],[K,"{h}{aa}",4,at,1],[60,lt,4,at,1],[1,":{ss}",2,at+" "+lt,1],[.001,":{ss}.{fff}",2,at+" "+lt,1]];function st(t,e){return function(n,r){var o=g(r[1]-r[0]),a=e.find((function(t){return o>=t[0]})),l=null,i=null,s=null;return r.map((function(e){var n=t(e),r=n.getFullYear(),o=n.getDate(),u=n.getMinutes(),c=r!=l,f=o!=i,h=u!=s;return l=r,i=o,s=u,(7==a[2]&&c||4==a[2]&&f||2==a[2]&&h?a[3]:a[1])(n)}))}}function ut(t,e,n){return new Date(t,e,n)}function ct(t,e){return e(t)}function ft(t,e){return function(n,r){return e(t(r))}}var ht={show:!0,x:!0,y:!0,lock:!1,points:{show:function(t,e){var n=t.series[e],r=A();r.style.background=n.stroke||"#000";var o=$t(n.width,1),a=(o-1)/-2;return Y(r,k,o),Y(r,$,o),Y(r,"marginLeft",a),Y(r,"marginTop",a),r}},drag:{setScale:!0,x:!0,y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null},dt={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},mt=y({},dt,{size:10}),pt='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',vt="bold "+pt,gt={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:vt,side:2,grid:dt,ticks:mt,font:pt,rotate:0},bt={show:!0,scale:"x",min:1/0,max:-1/0,idxs:[]},wt=new Intl.NumberFormat(navigator.language);function xt(t,e){return e.map(wt.format)}function _t(t,e,n,r,o,a){for(var l=[],i=e=a?e:+v(e,r).toFixed(12);n>=i;i=+(i+r).toFixed(12))l.push(i);return l}function yt(t,e){return e}var kt={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:vt,side:3,grid:dt,ticks:mt,font:pt,rotate:0};function $t(t,e){return s(g(5*e),2*g(t*e)-1)}var Mt={scale:"y",show:!0,band:!1,alpha:1,points:{show:function(t,e){var n=$t(t.series[e].width,D),r=t.series[0].idxs;return t.bbox.width/n/2>=r[1]-r[0]}},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},St={time:!0,auto:!1,distr:1,min:1/0,max:-1/0},Et=y({},St,{time:!1,auto:!0}),Tt={};function Dt(){var t=[];return{sub:function(e){t.push(e)},unsub:function(e){t=t.filter((function(t){return t!=e}))},pub:function(e,n,r,o,a,l,i){t.length>1&&t.forEach((function(t){t!=n&&t.pub(e,n,r,o,a,l,i)}))}}}function Ct(t,e,n){return[t[0],t[1]].concat(t.slice(2)).map((function(t,r){return Yt(t,r,e,n)}))}function Yt(t,e,n,r){return y({},0==e||t&&t.side%2==0?n:r,t)}function Wt(t,e,n,r){return r+(1-(t-e.min)/(e.max-e.min))*n}function At(t,e,n,r){return r+(t-e.min)/(e.max-e.min)*n}function Ft(t,e,n){return[e,n>e?n:n+86400]}function zt(t,e,n){var a=n-e;if(0==a){var l=c(a||r(n)||1),i=o(l)+1;return[e,v(n,u(10,i))]}return[e,n]}function jt(t,n,r){return e(n,r,.2,!0)}function Ht(t){return 0==t.button}function Nt(t){var e;return[t=t.replace(/\d+/,(function(t){return e=a(t*D)})),e]}function Pt(e,n,l){var u={},c=u.root=A("uplot");null!=e.id&&(c.id=e.id),C(c,e.class),e.title&&(A("title",c).textContent=e.title);var x=W("canvas"),z=u.ctx=x.getContext("2d"),N=A("wrap",c),P=A("under",N);N.appendChild(x);var L=A("over",N);((e=_(e)).plugins||[]).forEach((function(t){t.opts&&(e=t.opts(u,e)||e)}));var O=!1,B=Ct(e.series,bt,Mt),I=Ct(e.axes||[],gt,kt),J=e.scales=e.scales||{},G=y({x:a(kt.size/2),y:a(gt.size/3)},e.gutters),U=e.tzDate||function(t){return new Date(1e3*t)},V=e.fmtDate||R,q=function(t){return function(e,n,r,a,l){var i=[],s=a>=tt&&et>a,u=t(n),c=u/1e3,f=ut(u.getFullYear(),u.getMonth(),s?1:u.getDate()),h=f/1e3;if(s)for(var d=a/tt,m=c==h?c:ut(f.getFullYear(),f.getMonth()+d,1)/1e3,p=new Date(1e3*m),w=p.getFullYear(),x=p.getMonth(),_=0;r>=m;_++){var y=ut(w,x+d*_,1);(m=(+y+(y-t(y/1e3)))/1e3)>r||i.push(m)}else{var k=Q>a?a:Q,$=h+(o(n)-o(c))+v(c-h,k);i.push($);for(var M=t($),S=M.getHours()+M.getMinutes()/60+M.getSeconds()/K,E=a/K;;){$=g($+a);var T=o(b(S+E))%24,D=t($).getHours()-T;if(D>1&&(D=-1),($-=D*K)>r)break;S=(S+E)%24,.7>g(($-i[i.length-1])/a)*l||i.push($)}}return i}}(U),ot=st(U,rt(it,V)),at=ft(U,ct("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",V));u.series=B,u.axes=I,u.scales=J;var lt={};for(var dt in J){var mt=J[dt];null==mt.min&&null==mt.max||(lt[dt]={min:mt.min,max:mt.max})}var pt,vt,wt=y({show:!0},e.legend).show,Pt=[],Lt=!1;if(wt){pt=W("table","legend",c);var Ot=B[1].values;if(Lt=null!=Ot){var Bt=W("tr","labels",pt);for(var It in W("th",null,Bt),vt=Ot(u,1,0))W("th",null,Bt).textContent=It}else vt={_:0},C(pt,"inline")}var Jt=u.cursor=y({},ht,e.cursor);Jt.points.show=m(Jt.points.show);var Gt=u.focus=y({},e.focus||{alpha:.3},Jt.focus),Rt=Gt.prox>=0,Ut=[null];function Vt(t,e){var n=t.scale,r=J[n]=y({},0==e?St:Et,J[n]),o=r.time;r.range=m(r.range||(o?Ft:0==e?zt:jt)),t.spanGaps=!0===t.spanGaps?p:m(t.spanGaps||[]);var a=t.value;if(t.value=o?function(t){return"string"==typeof t}(a)?ft(U,ct(a,V)):a||at:a||yt,t.label=t.label||(o?"Time":"Value"),e>0){t.width=null==t.width?1:t.width,t.paths=t.paths||Te;var l=$t(t.width,1);t.points=y({},{size:l,width:s(1,.2*l)},t.points),t.points.show=m(t.points.show),t._paths=null}if(wt&&Pt.splice(e,0,function(t,e){if(0==e&&Lt)return null;var n=[],r=W("tr","series",pt,pt.childNodes[e]);C(r,t.class),t.show||C(r,"off");var o=W("th",null,r),a=A("ident",o);t.width&&(a.style.borderColor=t.stroke),a.style.backgroundColor=t.fill;var l=A("text",o);for(var i in l.textContent=t.label,e>0&&(j("click",o,(function(e){Jt.locked||Ht(e)&&Be(B.indexOf(t),{show:!t.show},pn.setSeries)})),Rt&&j("mouseenter",o,(function(){Jt.locked||Be(B.indexOf(t),{focus:!0},pn.setSeries)}))),vt){var s=W("td",null,r);s.textContent="--",n.push(s)}return n}(t,e)),Jt.show){var i=function(t,e){if(e>0){var n=Jt.points.show(u,e);if(n)return C(n,"cursor-pt"),C(n,t.class),F(n,-10,-10),L.insertBefore(n,Ut[e]),n}}(t,e);i&&Ut.splice(e,0,i)}}for(var qt in u.addSeries=function(t,e){t=Yt(t,e=null==e?B.length:e,bt,Mt),B.splice(e,0,t),Vt(B[e],e)},u.delSeries=function(t){B.splice(t,1),Pt.splice(t,1)[0][0].parentNode.remove(),Ut.splice(t,1)[0].remove()},B.forEach(Vt),J){var Xt=J[qt];null!=Xt.from&&(J[qt]=y({},J[Xt.from],Xt))}var Zt,Kt=B[0].scale,Qt=J[Kt].distr;I.forEach((function(t){if(t.show){var e=J[t.scale];null==e&&(t.scale=t.side%2?B[1].scale:Kt,e=J[t.scale]);var n=e.time;t.space=m(t.space),t.rotate=m(t.rotate),t.incrs=m(t.incrs||(2==e.distr?X:n?nt:Z)),t.split=m(t.split||(n&&1==e.distr?q:_t));var r=t.values;t.values=n?w(r)?st(U,rt(r,V)):r||ot:r||xt,t.font=Nt(t.font),t.labelFont=Nt(t.labelFont)}}));var te,ee,ne,re,oe,ae,le,ie,se,ue,ce=null,fe=null,he=B[0].idxs,de=null;function me(t,e){u.data=t,n=t.slice(),Zt=(de=n[0]).length,2==Qt&&(n[0]=de.map((function(t,e){return e}))),Ye(),mn("setData"),!1!==e&&pe()}function pe(){ce=he[0]=0,fe=he[1]=Zt-1,Oe(Kt,2==Qt?ce:n[0][ce],2==Qt?fe:n[0][fe])}function ve(t,e,n,r){z.strokeStyle=t||"#000",z.lineWidth=e,z.lineJoin="round",z.setLineDash(n||[]),z.fillStyle=r||"#000"}function ge(t,e){u.width=te=ne=t,u.height=ee=re=e,oe=ae=0,function(){var t=!1,e=!1,n=!1,r=!1;I.forEach((function(o){if(o.show){var a=o.side,l=a%2,i=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);i>0&&(l?(ne-=i,3==a?(oe+=i,r=!0):n=!0):(re-=i,0==a?(ae+=i,t=!0):e=!0))}})),(t||e)&&(n||(ne-=G.x),r||(ne-=G.x,oe+=G.x)),(r||n)&&(e||(re-=G.y),t||(re-=G.y,ae+=G.y))}(),function(){var t=oe+ne,e=ae+re,n=oe,r=ae;function o(o,a){switch(o){case 1:return(t+=a)-a;case 2:return(e+=a)-a;case 3:return(n-=a)+a;case 0:return(r-=a)+a}}I.forEach((function(t){var e=t.side;t._pos=o(e,t.size),null!=t.label&&(t._lpos=o(e,t.labelSize))}))}();var n=u.bbox;le=n[M]=h(oe*D,.5),ie=n.top=h(ae*D,.5),se=n[k]=h(ne*D,.5),ue=n[$]=h(re*D,.5),Y(P,M,oe),Y(P,"top",ae),Y(P,k,ne),Y(P,$,re),Y(L,M,oe),Y(L,"top",ae),Y(L,k,ne),Y(L,$,re),Y(N,k,te),Y(N,$,ee),x[k]=a(te*D),x[$]=a(ee*D),nn(),O&&Oe(Kt,J[Kt].min,J[Kt].max),O&&mn("setSize")}function be(){if(Ve)Xe=!0;else{if(Zt>0){var e=_(J);for(var r in e){var o=e[r],a=lt[r];null!=a?(y(o,a),r==Kt&&Ye()):r!=Kt&&(o.min=1/0,o.max=-1/0)}for(var l in B.forEach((function(r,o){var a=r.scale,l=e[a];if(0==o){var c=l.range(u,l.min,l.max);l.min=c[0],l.max=c[1],ce=t(l.min,n[0]),fe=t(l.max,n[0]),l.min>n[0][ce]&&ce++,n[0][fe]>l.max&&fe--,r.min=de[ce],r.max=de[fe]}else if(r.show&&null==lt[a]){var f=r.min==1/0?l.auto?function(t,e,n){for(var r=1/0,o=-1/0,a=e;n>=a;a++)null!=t[a]&&(r=i(r,t[a]),o=s(o,t[a]));return[r,o]}(n[o],ce,fe):[0,100]:[r.min,r.max];l.min=i(l.min,r.min=f[0]),l.max=s(l.max,r.max=f[1])}r.idxs[0]=ce,r.idxs[1]=fe})),e){var c=e[l];if(null==c.from&&c.min!=1/0&&null==lt[l]){var f=c.range(u,c.min,c.max);c.min=f[0],c.max=f[1]}}for(var h in e){var d=e[h];if(null!=d.from){var m=e[d.from];if(m.min!=1/0){var p=d.range(u,m.min,m.max);d.min=p[0],d.max=p[1]}}}var v={};for(var g in e){var b=e[g],w=J[g];w.min==b.min&&w.max==b.max||(w.min=b.min,w.max=b.max,v[g]=!0),lt[g]=null}for(var x in B.forEach((function(t){v[t.scale]&&(t._paths=null)})),v)mn("setScale",x)}Jt.show&&tn()}}u.setData=me,u.bbox={},u.setSize=function(t){ge(t.width,t.height)};var we,xe,_e,ye,ke,$e,Me,Se=1;function Ee(t,e){var n=new Set(B[t].spanGaps(u,e,t)),r=null;if((e=e.filter((function(t){return!n.has(t)}))).length>0){r=new Path2D;for(var o=le,a=0;e.length>a;a++){var l=e[a];r.rect(o,ie,l[0]-o,ie+ue),o=l[1]}r.rect(o,ie,le+se-o,ie+ue)}return r}function Te(t,e,r,o){var l,u,c=B[e],f=n[0],h=n[e],d=J[Kt],m=J[c.scale],p=1==Se?{stroke:new Path2D,fill:null,clip:null}:B[e-1]._paths,v=p.stroke,b=g(c[k]*D),w=1/0,x=-1/0,_=[],y=a(At(f[1==Se?r:o],d,se,le));c.band&&1==Se&&r==ce&&(b&&v.lineTo(-b,a(Wt(h[r],m,ue,ie))),f[0]>d.min&&_.push([le,y-1]));for(var $=1==Se?r:o;$>=r&&o>=$;$+=Se){var M=a(At(f[$],d,se,le));if(M==y)null!=h[$]&&(l=a(Wt(h[$],m,ue,ie)),w=i(l,w),x=s(l,x));else{var S=!1;if(w!=1/0?(v.lineTo(y,w),v.lineTo(y,x),v.lineTo(y,l),u=y):S=!0,null!=h[$]?(l=a(Wt(h[$],m,ue,ie)),v.lineTo(M,l),w=x=l,M-y>1&&null==h[$-1]&&(S=!0)):(w=1/0,x=-1/0),S){var E=_[_.length-1];E&&E[0]==u?E[1]=M:_.push([u,M])}y=M}}if(c.band){var T,C,Y=100*b;-1==Se&&r==ce&&(C=le-Y,T=r),1==Se&&o==fe&&(C=le+se+Y,T=o,d.max>f[Zt-1]&&_.push([y,le+se])),v.lineTo(C,a(Wt(h[T],m,ue,ie)))}if(1==Se&&(p.clip=Ee(e,_),null!=c.fill)){var W=p.fill=new Path2D(v),A=a(Wt(0,m,ue,ie));W.lineTo(le+se,A),W.lineTo(le,A)}return c.band&&(Se*=-1),p}function De(t,e,n,r){var o;if(r>0){var a=t.space(u,e,n,r);(o=function(t,e,n,r){for(var o=n/t,a=0;e.length>a;a++){var l=e[a]*o;if(l>=r)return[e[a],l]}}(n-e,t.incrs(u,e,n,r,a),r,a)).push(o[1]/a)}else o=[0,0];return o}function Ce(t,e,n,r,o,a,l,i){var s=a%2/2;z.translate(s,s),ve(l,a,i),z.beginPath();var u,c,f,h,d=r+(0==n||3==n?-o:o);0==e?(c=r,h=d):(u=r,f=d),t.forEach((function(t){0==e?u=f=t:c=h=t,z.moveTo(u,c),z.lineTo(f,h)})),z.stroke(),z.translate(-s,-s)}function Ye(){B.forEach((function(t,e){e>0&&(t.min=1/0,t.max=-1/0,t._paths=null)}))}function We(){Ve?qe=!0:(z.clearRect(0,0,x[k],x[$]),mn("drawClear"),I.forEach((function(t){if(t.show){var e=J[t.scale];if(e.min!=1/0){var n=t.side,r=n%2,o=e.min,l=e.max,i=De(t,o,l,0==r?ne:re),s=i[1],c=t.split(u,o,l,i[0],i[2],2==e.distr),h=0==r?At:Wt,d=0==r?se:ue,m=0==r?le:ie,p=c.map((function(t){return a(h(t,e,d,m))})),v=a(t.gap*D),b=t.ticks,w=b.show?a(b.size*D):0,x=t.values(u,2==e.distr?c.map((function(t){return de[t]})):c,s),_=2==n?t.rotate(u,x,s)*-f/180:0,y=a(t._pos*D),$=y+(w+v)*(0==r&&0==n||1==r&&3==n?-1:1),S=0==r?$:0,E=1==r?$:0;z.font=t.font[0],z.fillStyle=t.stroke||"#000",z.textAlign=_>0?M:0>_?"right":0==r?"center":3==n?"right":M,z.textBaseline=_||1==r?"middle":2==n?"top":"bottom";var T=1.5*t.font[1];if(x.forEach((function(t,e){0==r?E=p[e]:S=p[e],(""+t).split(/\n/gm).forEach((function(t,e){_?(z.save(),z.translate(E,S+e*T),z.rotate(_),z.fillText(t,0,0),z.restore()):z.fillText(t,E,S+e*T)}))})),t.label){z.save();var C=a(t._lpos*D);1==r?(E=S=0,z.translate(C,a(ie+ue/2)),z.rotate((3==n?-f:f)/2)):(E=a(le+se/2),S=C),z.font=t.labelFont[0],z.textAlign="center",z.textBaseline=2==n?"top":"bottom",z.fillText(t.label,E,S),z.restore()}b.show&&Ce(p,r,n,y,w,g(b[k]*D),b.stroke);var Y=t.grid;Y.show&&Ce(p,r,0==r?2:1,0==r?ie:le,0==r?ue:se,g(Y[k]*D),Y.stroke,Y.dash)}}})),mn("drawAxes"),B.forEach((function(t,e){if(e>0&&t.show&&null==t._paths){var r=function(t){for(var e=d(ce-1,0,Zt-1),n=d(fe+1,0,Zt-1);null==t[e]&&e>0;)e--;for(;null==t[n]&&Zt-1>n;)n++;return[e,n]}(n[e]);t._paths=t.paths(u,e,r[0],r[1])}})),B.forEach((function(t,e){e>0&&t.show&&(t._paths&&function(t){var e=B[t];if(1==Se){var n=e._paths,r=n.stroke,o=n.fill,a=n.clip,l=g(e[k]*D),i=l%2/2;ve(e.stroke,l,e.dash,e.fill),z.globalAlpha=e.alpha,z.translate(i,i),z.save();var s=le,u=ie,c=se,f=ue,h=l*D/2;0==e.min&&(f+=h),0==e.max&&(u-=h,f+=h),z.beginPath(),z.rect(s,u,c,f),z.clip(),null!=a&&z.clip(a),e.band?(z.fill(r),l&&z.stroke(r)):(l&&z.stroke(r),null!=e.fill&&z.fill(o)),z.restore(),z.translate(-i,-i),z.globalAlpha=1}e.band&&(Se*=-1)}(e),t.points.show(u,e,ce,fe)&&function(t){var e=B[t],r=e.points,o=g(e[k]*D),l=o%2/2,i=r.width>0,s=(r.size-r.width)/2*D,u=g(2*s);z.translate(l,l),z.save(),z.beginPath(),z.rect(le-u,ie-u,se+2*u,ue+2*u),z.clip(),z.globalAlpha=e.alpha;for(var c=new Path2D,h=ce;fe>=h;h++)if(null!=n[t][h]){var d=a(At(n[0][h],J[Kt],se,le)),m=a(Wt(n[t][h],J[e.scale],ue,ie));c.moveTo(d+s,m),c.arc(d,m,s,0,2*f)}ve(r.stroke||e.stroke||"#000",o,null,r.fill||(i?"#fff":e.stroke||"#000")),z.fill(c),i&&z.stroke(c),z.globalAlpha=1,z.restore(),z.translate(-l,-l)}(e),mn("drawSeries",e))})),we=!0,mn("draw"))}function Ae(t,e){var n=J[t];if(null==n.from){if(t==Kt&&n.time&&I[0].show&&e.max>e.min&&.001>De(I[0],e.min,e.max,ne)[0])return;lt[t]=e,we=!1,be(),!we&&We(),we=!1}}u.redraw=function(t){!1!==t?Oe(Kt,J[Kt].min,J[Kt].max):We()},u.setScale=Ae;var Fe=!1,ze=Jt.drag;if(Jt.show){var je="cursor-";Jt.x&&($e=Jt.left,xe=A(je+"x",L)),Jt.y&&(Me=Jt.top,_e=A(je+"y",L))}var He=u.select=y({show:!0,left:0,width:0,top:0,height:0},e.select),Ne=He.show?A("select",L):null;function Pe(t,e){if(He.show){for(var n in t)Y(Ne,n,He[n]=t[n]);!1!==e&&mn("setSelect")}}function Le(t){var e=wt?Pt[t][0].parentNode:null;B[t].show?e&&function(t){t.classList.remove("off")}(e):(e&&C(e,"off"),Ut.length>1&&F(Ut[t],0,-10))}function Oe(t,e,n){Ae(t,{min:e,max:n})}function Be(t,e,n){var r=B[t];if(null!=e.focus&&function(t){t!=Ge&&(B.forEach((function(e,n){!function(t,e){var n=B[t];Ie(t,e),n.band&&Ie(B[t+1].band?t+1:t-1,e)}(n,null==t||0==n||n==t?1:Gt.alpha)})),Ge=t,We())}(t),null!=e.show){if(r.show=e.show,Le(t),r.band){var o=B[t+1]&&B[t+1].band?t+1:t-1;B[o].show=r.show,Le(o)}Oe(Kt,J[Kt].min,J[Kt].max)}mn("setSeries",t,e),n&&gn.pub("setSeries",u,t,e)}function Ie(t,e){B[t].alpha=e,Pt&&(Pt[t][0].parentNode.style.opacity=e)}u.setSelect=Pe,u.setSeries=Be;var Je=Array(B.length),Ge=null;function Re(t,e){var n=d(t/(e==Kt?ne:re),0,1),r=J[e];return r.min+n*(r.max-r.min)}function Ue(e){return t(Re(e,Kt),n[0],ce,fe)}wt&&Rt&&j("mouseleave",pt,(function(){Jt.locked||(Be(null,{focus:!1},pn.setSeries),tn())})),u.posToIdx=Ue,u.posToVal=function(t,e){return Re(e==Kt?t:re-t,e)},u.valToPos=function(t,e,n){return e==Kt?At(t,J[e],n?se:ne,n?le:0):Wt(t,J[e],n?ue:re,n?ie:0)};var Ve=!1,qe=!1,Xe=!1,Ze=!1;function Ke(t){Ve=!0,t(u),Ve=!1,Xe&&be(),Ze&&tn(),qe&&!we&&We(),Xe=Ze=qe=we=Ve}u.batch=Ke,u.setCursor=function(t){$e=t.left,Me=t.top,tn()};var Qe=0;function tn(t){if(Ve)Ze=!0;else{var e;if(Qe=0,Jt.show&&(Jt.x&&F(xe,a($e),0),Jt.y&&F(_e,0,a(Me))),0>$e||0==Zt){e=null;for(var o=0;B.length>o;o++)if(o>0&&(Je[o]=1/0,Ut.length>1&&F(Ut[o],-10,-10)),wt){if(0==o&&Lt)continue;for(var l=0;Pt[o].length>l;l++)Pt[o][l].firstChild.nodeValue="--"}Rt&&Be(null,{focus:!0},pn.setSeries)}else{e=Ue($e);for(var c=g(At(n[0][e],J[Kt],ne,0)),f=0;B.length>f;f++){var h=B[f];if(f>0&&h.show){var d=n[f][e],m=null==d?-10:g(Wt(d,J[h.scale],re,0));Je[f]=m>0?r(m-Me):1/0,Ut.length>1&&F(Ut[f],c,m)}else Je[f]=1/0;if(wt){if(0==f&&Lt)continue;var p=0==f&&2==Qt?de:n[f],v=Lt?h.values(u,f,e):{_:h.value(u,p[e],f,e)},b=0;for(var w in v)Pt[f][b++].firstChild.nodeValue=v[w]}}}if($e>=0&&He.show&&Fe){if(ze.x){var x=i(ye,$e),_=s(ye,$e);Y(Ne,M,He[M]=x),Y(Ne,k,He[k]=_-x)}if(ze.y){var y=i(ke,Me),S=s(ke,Me);Y(Ne,"top",He.top=y),Y(Ne,$,He[$]=S-y)}}if(null!=t&&(gn.pub("mousemove",u,$e,Me,ne,re,e),Rt)){var E=i.apply(null,Je),T=null;E>Gt.prox||Je.some((function(t,e){if(t==E)return T=e})),Be(T,{focus:!0},pn.setSeries)}Jt.idx=e,Jt.left=$e,Jt.top=Me,O&&mn("setCursor")}}var en=null;function nn(){en=L.getBoundingClientRect()}function rn(t,e,n,r,o,a){Jt.locked||(on(t,0,n,r,o,a,0,!1,null!=t),null!=t?0==Qe&&(Qe=S(tn)):tn())}function on(t,e,n,r,o,a,l,i,s){null!=t?(n=t.clientX-en.left,r=t.clientY-en.top):(n=ne*(n/o),r=re*(r/a)),s&&(n>1&&ne-1>n||(n=h(n,ne)),r>1&&re-1>r||(r=h(r,re))),i?(ye=n,ke=r):($e=n,Me=r)}function an(){Pe({width:ze.x?0:ne,height:ze.y?0:re},!1)}function ln(t,e,n,r,o,a){(null==t||Ht(t))&&(Fe=!0,on(t,0,n,r,o,a,0,!0,!0),He.show&&(ze.x||ze.y)&&an(),null!=t&&(j("mouseup",E,sn),gn.pub("mousedown",u,ye,ke,ne,re,null)))}function sn(t,e,n,r,o,a){(null==t||Ht(t))&&(Fe=!1,on(t,0,n,r,o,a,0,!1,!0),$e!=ye||Me!=ke?(Pe(He),ze.setScale&&(Ke((function(){if(ze.x){var t=2==Qt?Ue:Re;Oe(Kt,t(He[M],Kt),t(He[M]+He[k],Kt))}if(ze.y)for(var e in J)e!=Kt&&null==J[e].from&&Oe(e,Re(re-He.top-He[$],e),Re(re-He.top,e))})),an())):Jt.lock&&(Jt.locked=!Jt.locked,Jt.locked||tn()),null!=t&&(H("mouseup",E,sn),gn.pub("mouseup",u,$e,Me,ne,re,null)))}function un(t){pe(),null!=t&&gn.pub("dblclick",u,$e,Me,ne,re,null)}var cn,fn={};fn.mousedown=ln,fn.mousemove=rn,fn.mouseup=sn,fn.dblclick=un,fn.setSeries=function(t,e,n,r){Be(n,r)},Jt.show&&(j("mousedown",L,ln),j("mousemove",L,rn),j("mouseenter",L,nn),j("mouseleave",L,(function(){Jt.locked||Fe||($e=-10,Me=-10,tn(1))})),ze.setScale&&j("dblclick",L,un),cn=function(t){var e=null;function n(){e=null,t()}return function(){clearTimeout(e),e=setTimeout(n,100)}}(nn),j("resize",T,cn),j("scroll",T,cn),u.syncRect=nn);var hn=u.hooks=e.hooks||{},dn=[u];function mn(t){if(t in hn){var e=dn.concat(Array.prototype.slice.call(arguments,1));hn[t].forEach((function(t){t.apply(null,e)}))}}(e.plugins||[]).forEach((function(t){for(var e in t.hooks)hn[e]=(hn[e]||[]).concat(t.hooks[e])}));var pn=y({key:null,setSeries:!1},Jt.sync),vn=pn.key,gn=null!=vn?Tt[vn]=Tt[vn]||Dt():Dt();function bn(){ge(e[k],e[$]),mn("init",e,n),me(n||e.data,!1),lt[Kt]?Ae(Kt,lt[Kt]):pe(),Pe(He,!1),O=!0,mn("ready")}return gn.sub(u),u.pub=function(t,e,n,r,o,a,l){fn[t](null,e,n,r,o,a,l)},u.destroy=function(){gn.unsub(u),H("resize",T,cn),H("scroll",T,cn),c.remove(),mn("destroy")},l?l instanceof HTMLElement?(l.appendChild(c),bn()):l(u,bn):bn(),u}return Pt.assign=y,Pt.rangeNum=e,Pt.fmtDate=R,Pt.tzDate=function(t,e){var n=new Date(t.toLocaleString("en-US",{timeZone:e}));return n.setMilliseconds(t.getMilliseconds()),n},Pt}();function G(t){let e,n;const r=t[12].default,o=function(t,e,n,r){if(t){const o=l(t,e,n,r);return t[0](o)}}(r,t,t[11],null),a=o||function(t){let e,n,r;return{c(){e=f("div"),p(e,"class",n="graph "+t[0]),p(e,"data-series",r=JSON.stringify(Object.entries(t[1])))},m(n,r){s(n,e,r),t[13](e)},p(t,o){1&o&&n!==(n="graph "+t[0])&&p(e,"class",n),2&o&&r!==(r=JSON.stringify(Object.entries(t[1])))&&p(e,"data-series",r)},d(n){n&&u(e),t[13](null)}}}(t);return{c(){e=f("div"),a&&a.c()},m(t,r){s(t,e,r),a&&a.m(e,null),n=!0},p(t,[e]){o?o.p&&2048&e&&o.p(l(r,t,t[11],null),function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(r,t[11],e,null)):a&&a.p&&7&e&&a.p(t,e)},i(t){n||(z(a,t),n=!0)},o(t){j(a,t),n=!1},d(t){t&&u(e),a&&a.d(t)}}}function R(t,e,n){let r,{type:o=""}=e,{data:a={}}=e,{title:l=""}=e,{height:i=100}=e,{show_x_axis:s=!1}=e,u=[null,"Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=!1;var f;function h(t,e){return m(t,e,{label:"Day of Week",value:(t,e)=>u[e]},{title:l,width:400,height:i})}function d(t,e){return m(t,e,{label:"Hour of Day",value:(t,e)=>e},{title:l,width:400,height:i})}function m(t,e,n,r){let o={...r,axes:[{show:s},{show:!0}],series:[n,{show:!0,spanGaps:!0,label:"Messages per hour (Avg)",value:(t,e)=>parseFloat(e).toFixed(2),width:1,stroke:"#03a9f4",fill:"#b3e5fc"}],scales:{x:{time:!1}}};new J(o,t,e)}f=()=>{if(r&&!c){let t=function(t){let e=JSON.parse(t.attributes["data-series"].nodeValue),n=[[],[]];for(let t of e)n[0].push(parseInt(t[0])),n[1].push(t[1]);return n}(r);"mph_by_dow"==o?h(t,r):"mph_by_hod"==o&&d(t,r),c=!0}},w().$$.after_update.push(f);let{$$slots:p={},$$scope:v}=e;return t.$set=t=>{"type"in t&&n(0,o=t.type),"data"in t&&n(1,a=t.data),"title"in t&&n(3,l=t.title),"height"in t&&n(4,i=t.height),"show_x_axis"in t&&n(5,s=t.show_x_axis),"$$scope"in t&&n(11,v=t.$$scope)},[o,a,r,l,i,s,c,u,h,d,m,v,p,function(t){_[t?"unshift":"push"](()=>{n(2,r=t)})}]}class U extends I{constructor(t){super(),B(this,t,R,G,a,{type:0,data:1,title:3,height:4,show_x_axis:5})}}function V(t,e,n){const r=t.slice();return r[20]=e[n],r[17]=n,r}function q(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function X(e){let n;return{c(){n=h("Error loading channels")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Z(t){let e,n,o,a,l,v,g,b,w,x,_,y,k;function $(...e){return t[11](t[15],...e)}function M(...e){return t[12](t[15],...e)}function S(...e){return t[13](t[15],...e)}function E(...e){return t[14](t[15],...e)}let T=t[18],D=[];for(let e=0;e<T.length;e+=1)D[e]=K(V(t,T,e));const C=t=>j(D[t],1,1,()=>{D[t]=null});return{c(){e=f("div"),n=h("Sort by:\n\t\t\t\t\t\t"),o=f("button"),o.textContent="Name",a=d(),l=f("button"),l.textContent="Last message",v=d(),g=f("button"),g.textContent="Messages in the last hour",b=d(),w=f("button"),w.textContent="Total messages",x=d(),_=f("ul");for(let t=0;t<D.length;t+=1)D[t].c();p(e,"class","sort_menu svelte-1hhswl0")},m(t,u,c){s(t,e,u),i(e,n),i(e,o),i(e,a),i(e,l),i(e,v),i(e,g),i(e,b),i(e,w),s(t,x,u),s(t,_,u);for(let t=0;t<D.length;t+=1)D[t].m(_,null);y=!0,c&&r(k),k=[m(o,"click",$),m(l,"click",M),m(g,"click",S),m(w,"click",E)]},p(e,n){if(t=e,33&n){let e;for(T=t[18],e=0;e<T.length;e+=1){const r=V(t,T,e);D[e]?(D[e].p(r,n),z(D[e],1)):(D[e]=K(r),D[e].c(),z(D[e],1),D[e].m(_,null))}for(A(),e=T.length;e<D.length;e+=1)C(e);F()}},i(t){if(!y){for(let t=0;t<T.length;t+=1)z(D[t]);y=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)j(D[t]);y=!1},d(t){t&&u(e),t&&u(x),t&&u(_),c(D,t),r(k)}}}function K(t){let e,n,r,o,a,l,c,m,g,b,w,x,_,y,k,$,M,S,E,T,D,C,Y,W,A,F=t[20].name+"",H=t[20].total_messages+"",O=t[20].messages_last_hour+"",B=t[20].last_message.date_text+"";const I=new U({props:{type:"mph_by_dow",data:t[20].mph_by_dow}}),J=new U({props:{type:"mph_by_hod",data:t[20].mph_by_hod,show_x_axis:"true"}});return{c(){e=f("li"),n=f("div"),r=f("a"),o=h(F),l=d(),c=f("div"),m=f("div"),g=h(H),b=h(" messages"),w=d(),x=f("div"),_=h(O),y=h(" in the last hour"),k=d(),$=f("div"),M=f("time"),S=h("Last message: "),E=h(B),D=d(),C=f("div"),N(I.$$.fragment),Y=d(),N(J.$$.fragment),W=d(),p(r,"href",a="https://discord.com/channels/"+t[15].id+"/"+t[20].id),p(r,"target","_blank"),p(n,"class","channel_name svelte-1hhswl0"),p(M,"datetime",T=t[20].last_message.date),p(c,"class","channel_stats svelte-1hhswl0"),p(C,"class","server_activity_graphs svelte-1hhswl0"),p(e,"class","channel_item svelte-1hhswl0")},m(t,a){s(t,e,a),i(e,n),i(n,r),i(r,o),i(e,l),i(e,c),i(c,m),i(m,g),i(m,b),i(c,w),i(c,x),i(x,_),i(x,y),i(c,k),i(c,$),i($,M),i(M,S),i(M,E),i(e,D),i(e,C),P(I,C,null),i(C,Y),P(J,C,null),i(e,W),A=!0},p(t,e){(!A||1&e)&&F!==(F=t[20].name+"")&&v(o,F),(!A||1&e&&a!==(a="https://discord.com/channels/"+t[15].id+"/"+t[20].id))&&p(r,"href",a),(!A||1&e)&&H!==(H=t[20].total_messages+"")&&v(g,H),(!A||1&e)&&O!==(O=t[20].messages_last_hour+"")&&v(_,O),(!A||1&e)&&B!==(B=t[20].last_message.date_text+"")&&v(E,B),(!A||1&e&&T!==(T=t[20].last_message.date))&&p(M,"datetime",T);const n={};1&e&&(n.data=t[20].mph_by_dow),I.$set(n);const l={};1&e&&(l.data=t[20].mph_by_hod),J.$set(l)},i(t){A||(z(I.$$.fragment,t),z(J.$$.fragment,t),A=!0)},o(t){j(I.$$.fragment,t),j(J.$$.fragment,t),A=!1},d(t){t&&u(e),L(I),L(J)}}}function Q(e){let n;return{c(){n=f("p"),n.textContent="...waiting for channels..."},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function tt(t){let e,n,r,o,a,l,c,m,g,b,w,x,_,y,k,$,M,S,E,T,D,C,Y,W,A,F,O,B,I,J,G,R,V,q,K,tt,et,nt,rt,ot,at,lt,it,st,ut,ct,ft,ht,dt,mt=t[15].name+"",pt=t[15].total_members+"",vt=t[15].channel_count+"",gt=t[15].total_messages+"",bt=t[15].members_joined_last_24h+"",wt=t[15].members_joined_per_day_avg.toFixed(2)+"",xt=t[15].last_message.date_text+"",_t=t[15].messages_last_hour+"";const yt=new U({props:{type:"mph_by_dow",data:t[15].mph_by_dow,title:"Messages by Day of Week"}}),kt=new U({props:{type:"mph_by_hod",data:t[15].mph_by_hod,title:"Messages by Hour of Day (UTC)",show_x_axis:"true"}});let $t={ctx:t,current:null,token:null,pending:Q,then:Z,catch:X,value:18,error:19,blocks:[,,,]};return H(ft=t[5](t[15].id),$t),{c(){e=f("li"),n=f("div"),r=h(mt),o=d(),a=f("div"),l=f("div"),c=h(pt),m=h(" members"),g=d(),b=f("div"),w=h(vt),x=h(" channels"),_=d(),y=f("div"),k=h(gt),$=h(" messages"),M=d(),S=f("div"),E=f("b"),E.textContent="Member Growth",T=d(),D=f("div"),C=h("+"),Y=h(bt),W=h(" in the last day"),A=d(),F=f("div"),O=h("+"),B=h(wt),I=h(" every day (avg)"),J=d(),G=f("div"),R=f("div"),R.innerHTML="<b>Activity</b>",V=d(),q=f("time"),K=h("Last message: "),tt=h(xt),nt=d(),rt=f("div"),ot=h(_t),at=h(" messages in the last hour"),lt=d(),it=f("div"),N(yt.$$.fragment),st=d(),N(kt.$$.fragment),ut=d(),ct=f("div"),$t.block.c(),ht=d(),p(n,"class","server_name svelte-1hhswl0"),p(a,"class","server_stats svelte-1hhswl0"),p(S,"class","server_growth svelte-1hhswl0"),p(q,"datetime",et=t[15].last_message.date),p(G,"class","server_activity svelte-1hhswl0"),p(it,"class","server_activity_graphs svelte-1hhswl0"),p(ct,"class","server_channel_list svelte-1hhswl0"),p(e,"class","server_item svelte-1hhswl0")},m(t,u){s(t,e,u),i(e,n),i(n,r),i(e,o),i(e,a),i(a,l),i(l,c),i(l,m),i(a,g),i(a,b),i(b,w),i(b,x),i(a,_),i(a,y),i(y,k),i(y,$),i(e,M),i(e,S),i(S,E),i(S,T),i(S,D),i(D,C),i(D,Y),i(D,W),i(S,A),i(S,F),i(F,O),i(F,B),i(F,I),i(e,J),i(e,G),i(G,R),i(G,V),i(G,q),i(q,K),i(q,tt),i(G,nt),i(G,rt),i(rt,ot),i(rt,at),i(e,lt),i(e,it),P(yt,it,null),i(it,st),P(kt,it,null),i(e,ut),i(e,ct),$t.block.m(ct,$t.anchor=null),$t.mount=()=>ct,$t.anchor=null,i(e,ht),dt=!0},p(e,n){t=e,(!dt||1&n)&&mt!==(mt=t[15].name+"")&&v(r,mt),(!dt||1&n)&&pt!==(pt=t[15].total_members+"")&&v(c,pt),(!dt||1&n)&&vt!==(vt=t[15].channel_count+"")&&v(w,vt),(!dt||1&n)&&gt!==(gt=t[15].total_messages+"")&&v(k,gt),(!dt||1&n)&&bt!==(bt=t[15].members_joined_last_24h+"")&&v(Y,bt),(!dt||1&n)&&wt!==(wt=t[15].members_joined_per_day_avg.toFixed(2)+"")&&v(B,wt),(!dt||1&n)&&xt!==(xt=t[15].last_message.date_text+"")&&v(tt,xt),(!dt||1&n&&et!==(et=t[15].last_message.date))&&p(q,"datetime",et),(!dt||1&n)&&_t!==(_t=t[15].messages_last_hour+"")&&v(ot,_t);const o={};1&n&&(o.data=t[15].mph_by_dow),yt.$set(o);const a={};if(1&n&&(a.data=t[15].mph_by_hod),kt.$set(a),$t.ctx=t,1&n&&ft!==(ft=t[5](t[15].id))&&H(ft,$t));else{const e=t.slice();e[18]=$t.resolved,$t.block.p(e,n)}},i(t){dt||(z(yt.$$.fragment,t),z(kt.$$.fragment,t),z($t.block),dt=!0)},o(t){j(yt.$$.fragment,t),j(kt.$$.fragment,t);for(let t=0;t<3;t+=1){j($t.blocks[t])}dt=!1},d(t){t&&u(e),L(yt),L(kt),$t.block.d(),$t.token=null,$t=null}}}function et(t){let e,n,r,o,a,l,m,v,g=t[0],b=[];for(let e=0;e<g.length;e+=1)b[e]=tt(q(t,g,e));const w=t=>j(b[t],1,1,()=>{b[t]=null});return{c(){e=h("​\n\n"),n=f("main"),r=f("h1"),r.textContent="Portal Radar",o=d(),a=f("ul");for(let t=0;t<b.length;t+=1)b[t].c();l=d(),m=f("link"),p(r,"class","svelte-1hhswl0"),p(a,"class","server_list"),p(n,"class","svelte-1hhswl0"),p(m,"rel","stylesheet"),p(m,"href","uPlot/uPlot.min.css")},m(t,u){s(t,e,u),s(t,n,u),i(n,r),i(n,o),i(n,a);for(let t=0;t<b.length;t+=1)b[t].m(a,null);s(t,l,u),s(t,m,u),v=!0},p(t,[e]){if(63&e){let n;for(g=t[0],n=0;n<g.length;n+=1){const r=q(t,g,n);b[n]?(b[n].p(r,e),z(b[n],1)):(b[n]=tt(r),b[n].c(),z(b[n],1),b[n].m(a,null))}for(A(),n=g.length;n<b.length;n+=1)w(n);F()}},i(t){if(!v){for(let t=0;t<g.length;t+=1)z(b[t]);v=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)j(b[t]);v=!1},d(t){t&&u(e),t&&u(n),c(b,t),t&&u(l),t&&u(m)}}}async function nt(t,e=!1){let n=await fetch("/channels/"+t+"/"+(e?"?update=true":""));return n.ok?await n.json():(console.log("HTTP-Error: "+n.status),{})}function rt(t,e,n){let r=[],o={};function a(t,e){o[t].sort(e),n(0,r)}function l(t){return a(t,(function(t,e){return t.name.localeCompare(e.name)}))}function i(t){return a(t,(function(t,e){return e.messages_last_hour-t.messages_last_hour}))}function s(t){return a(t,(function(t,e){return new Date(e.last_message.date)-new Date(t.last_message.date)}))}function u(t){return a(t,(function(t,e){return e.total_messages-t.total_messages}))}async function c(t){console.debug("Updating");let e=o[t],a=await nt(t,!0);for(let t of e)t.last_message=a[t.id].last_message,t.messages_last_hour=a[t.id].messages_last_hour;n(0,r)}async function f(t){setTimeout(async()=>{await c(t),f(t)},1e4)}async function h(){n(0,r=await async function(){let t=await fetch("/servers");if(!t.ok)return console.log("HTTP-Error: "+t.status),{};let e=await t.json();return Object.values(e)}())}var d;d=h,w().$$.on_mount.push(d);return[r,l,i,s,u,async function(t){if(!(t in o)){let e=Object.values(await nt(t));e.sort((function(t,e){return t.name.localeCompare(e.name)})),o[t]=e,console.log("Setting auto-update"),await f(t)}return o[t]},o,a,c,f,h,t=>l(t.id),t=>s(t.id),t=>i(t.id),t=>u(t.id)]}return new class extends I{constructor(t){super(),B(this,t,rt,et,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
